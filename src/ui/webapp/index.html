<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style>
        @font-face {
        font-family: "Roboto";
        src: url("./fonts/Roboto-Light.ttf");
        }

        .res-circle {
      /* (A) PERCENTAGE WIDTH & BORDER RADIUS */
      width: 35px;
      border-radius: 50%;
      margin:8px;
      border:2px solid;
    
      /* (B) BACKGROUND COLOR */ 
      background: #bcd6ff;
     
      /* (C) NECESSARY TO POSITION TEXT BLOCK */
      line-height: 0;
      position: relative;
    }
     
    /* (D) MATCH HEIGHT */
    .res-circle::after {
      content: "";
      display: block;
      padding-bottom: 100%;
    }
     
    /* (E) TEXT BLOCK */
    .circle-txt {
      /* (E1) CENTER TEXT IN CIRCLE */
      position: absolute;
      bottom: 50%;
      width: 100%;
      text-align: center;
     
      /* (E2) THE FONT - NOT REALLY IMPORTANT */
      font-family: arial, sans-serif;
      font-weight: bold;
    }

    </style>
    
    <script src="https://code.jquery.com/jquery-3.1.0.min.js"></script>
    <script src="results.json"></script>
    <script>
        var mydata = JSON.parse(data);
        console.log(mydata.results);

        $(document).ready(() => {

            $.each(mydata.results, function (i, item) {
                $('#selectInstance').append($('<option>', {
                    value: i,
                    text: item.instance.name
                }));
            });   


            $("#selectInstance").on('change', function() {
                console.log( this.value );


                $('#instanceProperties').empty();
                $('#listAltruists').empty();
                $('#listPairs').empty();


                $('#instanceProperties').append($('<h4>', {
                    text: "Nom de l'instance : " + mydata.results[this.value].instance.name
                }));

                $.each(mydata.results[this.value].instance.properties, function (key, item) {

                    switch(key){
                        case "nbPairs" : 
                            $('#instanceProperties').append($('<h4>', {
                                text: "Nombres de pairs : " + item
                            }));
                        break;
                        case "maxSizeCycle" : 
                            $('#instanceProperties').append($('<h4>', {
                                text: "Taille maximale des Cycles : " + item
                            }));
                        break;
                        case "maxSizeChain" : 
                            $('#instanceProperties').append($('<h4>', {
                                text: "Taille maximale des Chaines : " + item
                            }));
                        break;
                    }
                    console.log(key);



                });

                $.each(mydata.results[this.value].instance.altruists, function (key, item) {


                    $('#listAltruists').append($('<div>', {
                        class: "res-circle",
                        style:"background-color: #bbeebb;color:#095228;"
                    }));

                    /*"*/
                    $('#listAltruists').children().last().append($('<div>', {
                        text: item.id,
                        class: "circle-txt"
                        /*style:"padding:5px;margin:10px;background-color: #bbeebb;border-radius: 50%; width:12px; height: 12px;color:black;"*/
                    }));
 
                });


                $.each(mydata.results[this.value].instance.pairs, function (key, item) {

                                        
                    $('#listPairs').append($('<div>', {
                        class: "res-circle",
                        style:"background-color:#B0E0E6;color:#163d5e;"
                    }));

                    $('#listPairs').children().last().append($('<div>', {
                        text: item.id,
                        class: "circle-txt"

                        /*style:"padding:5px;margin:10px;background-color: #bbeebb;border-radius: 50%; width:12px; height: 12px;color:black;"*/
                    }));
 
                });

                
                
                $.each(mydata.results[this.value].solution.chains[0].sequence, function (key, item) {

                    var color = "background-color:#B0E0E6;color:#163d5e;";

                    if(item.hasOwnProperty('isAltruist')){
                        color = "background-color: #bbeebb;color:#095228;";
                    }
                                        
                    $('#test').append($('<div>', {
                        class: "res-circle",
                        style:color
                    }));

                    $('#test').children().last().append($('<div>', {
                        text: item.id,
                        class: "circle-txt"

                       /*style:"padding:5px;margin:10px;background-color: #bbeebb;border-radius: 50%; width:12px; height: 12px;color:black;"*/
                    }));

                });







            });

            


        });

        



    </script>
</head>
<body style="background-color: #303030;color: white;font-family: Roboto;">
    <div style="border:1px solid red;">
        <label for="selectInstance">Instance : </label>
        <select id="selectInstance"></select>
    </div>

    <div style="display: flex;">
        <div style="border:1px solid red; width:25%; display: block;">
            <h2>Instance</h2>
            <div id="instanceProperties">
            </div>
            <div style="">
                
                    <div id="listAltruists" style="display: flex;flex-wrap: wrap;">
                        
                    </div>
                
                    
                    <div id="listPairs" style="display: flex;flex-wrap: wrap;">

                    </div>
                
            </div>
        </div>
        <div style="border:1px solid red; width:70%">
            <h6></h6>
            <div>
                <div id="test" style="border:1px solid red;display: flex;flex-wrap: wrap;">
                
                    <svg width="100" height="100">
                        
                        <circle cx="50" cy="50" r="15" stroke="#095228" stroke-width="4" fill="#bbeebb" />
                            <text x="50" y="60" font-size="45" text-anchor="middle" fill="white">1</text>
                    </svg>
                    
                    



                </div>
            </div>
        </div>
    </div>

</body>
</html>